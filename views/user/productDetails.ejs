<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minishop</title>
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.6.0/fonts/remixicon.css" rel="stylesheet">
    <link rel="stylesheet" href="/styles/style.css">
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous"> -->
    <link rel="stylesheet" href="/stylesheets/user/proudtDetails.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</head>
<style>
  #nav{
      z-index: 999;
      height: 90px;
    }
    @media (max-width:640px) {
      #nav{
        height: 70px;
      }
    }
    .navbar-menu{
      z-index: 999;
    }
    .product-card{
      z-index: 666;
    } 
</style>
<body>
  <nav id="nav" class="relative py-4 px-4 sm:px-4 sm:py-4 flex justify-between items-center bg-slate-900 shadow-lg ">
		<a class="xl:text-3xl lg:text-2xl md:text-2xl text-2xl font-bold leading-none" href="/home">
      <h3 class="h-10 text-white"  alt="logo" viewBox="0 0 100 100">
          Minishop
      </h3>
			
		</a>
		<div class="sm:hidden flex">
      
      <button class="navbar-burger flex items-center text-white p-3">
				<svg class="block h-4 w-4 fill-current" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
          <a class="hidden sm:inline-block px-3 hover:bg-blue-600 text-sm text-white font-bold rounded-xl transition duration-200"
           href="/home/bag">
            <i class="ri-handbag-fill ri-lg"></i>
          </a>
					<!-- <path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"></path> -->
				</svg>
			</button>
			<button class="navbar-burger flex items-center text-blue-600 p-3">
				<svg class="block h-4 w-4 fill-current" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
					<title>Mobile menu</title>
					<path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"></path>
				</svg>
			</button>
		</div>
		<ul class="hidden absolute top-1/2 left-1/2 transform -translate-y-1/2 -translate-x-1/2 sm:flex sm:mx-auto sm:flex sm:items-center sm:w-auto lg:space-x-6 ">
			
			<li class="text-gray-300">
				<svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" class="w-4 h-4 current-fill" viewBox="0 0 24 24">
					<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v0m0 7v0m0 7v0m0-13a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z" />
				</svg>
			</li>
			<li><a class="text-sm text-blue-600 font-bold" href="/home/products/men?page=1">Men</a></li>
			<li class="text-gray-300">
				<svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" class="w-4 h-4 current-fill" viewBox="0 0 24 24">
					<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v0m0 7v0m0 7v0m0-13a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z" />
				</svg>
			</li>
			<li><a class="text-sm text-blue-600 hover:text-gray-500 font-bold" href="/home/products/women?page=1">Women</a></li>
			<li class="text-gray-300">
				<svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" class="w-4 h-4 current-fill" viewBox="0 0 24 24">
					<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v0m0 7v0m0 7v0m0-13a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z" />
				</svg>
			</li>
			
		</ul>

		<!-- <a class="hidden sm:inline-block sm:ml-auto  bg-gray-50 hover:bg-gray-100 text-sm text-gray-900 font-bold  rounded-xl transition duration-200" href="#">  
      <i class="ri-user-fill" style="color: rgb(0, 0, 0);"></i> 
    </a> -->
    <a class="hidden sm:inline-block sm:ml-auto px-3  hover:bg-blue-600 text-sm text-gray-900 font-bold  rounded-xl transition duration-200" href="/home/wishlist">
      <i class="ri-heart-2-fill ri-lg" style="color: white;"></i>
    </a>


		<a class="hidden sm:inline-block px-3 hover:bg-blue-600 text-sm text-white font-bold rounded-xl transition duration-200"
     href="/home/bag">
      <i class="ri-handbag-fill ri-lg"></i>
    </a>

    <% if(user !== null){ %>

      <a class="hidden sm:inline-block px-3 hover:bg-blue-600 text-sm text-white font-bold rounded-xl transition duration-200"
       href="/home/account">
        <i class="ri-user-fill ri-lg"></i>
      </a>
    <% } %>
	</nav>

	<div class="navbar-menu relative z-50 hidden transition-transform ease-in-out duration-300">
		<div class="navbar-backdrop fixed inset-0 bg-gray-800 opacity-25"></div>
		<nav class="fixed top-0 left-0 bottom-0 flex flex-col w-5/6 max-w-sm py-6 px-6 bg-white border-r overflow-y-auto ">
			<div class="flex items-center mb-8">
				<a class="mr-auto text-3xl font-bold leading-none" href="#">
					<svg class="h-12" alt="logo" viewBox="0 0 100 100">
						<path d="M100 34.2c-.4-2.6-3.3-4-5.3-5.3-3.6-2.4-7.1-4.7-10.7-7.1-8.5-5.7-17.1-11.4-25.6-17.1-2-1.3-4-2.7-6-4-1.4-1-3.3-1-4.8 0-5.7 3.8-11.5 7.7-17.2 11.5L5.2 29C3 30.4.1 31.8 0 34.8c-.1 3.3 0 6.7 0 10v16c0 2.9-.6 6.3 2.1 8.1 6.4 4.4 12.9 8.6 19.4 12.9 8 5.3 16 10.7 24 16 2.2 1.5 4.4 3.1 7.1 1.3 2.3-1.5 4.5-3 6.8-4.5 8.9-5.9 17.8-11.9 26.7-17.8l9.9-6.6c.6-.4 1.3-.8 1.9-1.3 1.4-1 2-2.4 2-4.1V37.3c.1-1.1.2-2.1.1-3.1 0-.1 0 .2 0 0zM54.3 12.3L88 34.8 73 44.9 54.3 32.4V12.3zm-8.6 0v20L27.1 44.8 12 34.8l33.7-22.5zM8.6 42.8L19.3 50 8.6 57.2V42.8zm37.1 44.9L12 65.2l15-10.1 18.6 12.5v20.1zM50 60.2L34.8 50 50 39.8 65.2 50 50 60.2zm4.3 27.5v-20l18.6-12.5 15 10.1-33.6 22.4zm37.1-30.5L80.7 50l10.8-7.2-.1 14.4z"></path>
					</svg>
				</a>
				<button class="navbar-close">
					<svg class="h-6 w-6 text-gray-400 cursor-pointer hover:text-gray-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
					</svg>
				</button>
			</div>
			<div>
				<ul>
					<li class="mb-1">
						<a class="block p-4 text-sm font-semibold text-gray-400 hover:bg-blue-50 hover:text-blue-600 rounded" href="/home/products/men?page=1">Men</a>
					</li>
					<li class="mb-1">
						<a class="block p-4 text-sm font-semibold text-gray-400 hover:bg-blue-50 hover:text-blue-600 rounded" href="/home/products/women?page=1">Women</a>
					</li>
					  
					<li class="mb-1">
						<a class="block p-4 text-sm font-semibold text-gray-400 hover:bg-blue-50 hover:text-blue-600 rounded" href="/home/user">user</a>
					</li>
				</ul>
			</div>
			<!-- <div class="mt-auto">
				<div class="pt-6">
          
					<a class="block px-4 py-3 mb-3 leading-loose text-xs text-center font-semibold leading-none bg-gray-50 hover:bg-gray-100 rounded-xl" href="#">Sign in</a>
					<a class="block px-4 py-3 mb-2 leading-loose text-xs text-center text-white font-semibold bg-blue-600 hover:bg-blue-700  rounded-xl" href="#">Sign Up</a>
				</div>
				<p class="my-4 text-xs text-center text-gray-400">
					<span id="date">  </span>
				</p>
			</div> -->
		</nav>
	</div>


      <!-- <section class="container product pt-5 my-5">
        <div class="row">
          <div class="col-lg-5 col-md-12 col-12 col-xl-5">

            <img class="img-fluid w-100 pb-1" src="/images/1702218879079-Screenshot (14).png" alt="">

            <div class="small-img-group ">
              <div class="small-img-col">
                <img width="100%" class="small-img" src="/images/1702119189591-Screenshot (15).png" alt="">
              </div>
              <div class="small-img-col">
                <img width="100%" class="small-img" src="/images/1702119189591-Screenshot (15).png" alt="">
              </div>
              <div class="small-img-col">
                <img width="100%" class="small-img" src="/images/1702119189591-Screenshot (15).png" alt="">
              </div>
            </div>
          </div>

          <div class="col-lg-5 col-md-12 col-12 col-xl-5 bg-success">
              <h6>product name</h6>
              <h6>price</h6>
              <input type="number" value="number">
              <button class="buy-btn" >Add to cart </button>
              <h4>product details</h4>
              <span>Lorem ipsum dolor sit amet consectetur adipisicing elit. Qui voluptatum, dolore ratione incidunt omnis officiis eveniet enim quis inventore recusandae quos placeat minima doloribus totam est optio, illo nihil quod.</span>
          </div>
        </div>
      </section> -->
    

      <!-- <section class="product-details">
        <div class="img-body">
          <img src="/images/<%= product.images[0] %>" alt="">
        </div>
        <div class="product-info">
          <h6 class="name"> <%= product.productname %> </h6>
          <h6 class="price"> &#8377; <%= product.price %> </h6>
          <input class="qty" type="number" value="1">
          <div class="btns">
            <input class="cart" type="submit" value="add to cart"> 
            <input class="buy" type="submit" value="Buy now" >
          </div>
          <i class="ri-heart-line"></i>
        </div>
      </section>

      <section class="desc" >
        <div class="product-description">
          <h6> Lorem ipsum dolor sit amet consectetur adipisicing elit. Tempora, earum omnis deserunt quo obcaecati, maxime alias incidunt consequatur, quibusdam tenetur porro magnam. Ipsam odio corrupti modi iusto, quas in iure.
            Blanditiis voluptas, explicabo aspernatur veniam cumque ea. Voluptatibus autem, earum natus dolores perspiciatis eos ipsum quos dolor maxime laudantium, pariatur optio repellat aliquam tenetur nesciunt, at ullam! Natus, minima iste.
            Consectetur maxime nulla natus sint sed nemo commodi perferendis ut laudantium eveniet accusantium explicabo corrupti totam excepturi quia, nesciunt quam inventore debitis! Ipsum nobis odio explicabo deleniti ea consequatur minus.
          </h6>
        </div>
      </section> -->


      <header>
       
       
      
    </header>
      
      <!-- content -->
      <section class="overflow-hidden bg-white py-11 font-poppins ">
        <div class="max-w-6xl px-4 py-4 mx-auto lg:py-8 md:px-6">
            <div class="flex flex-wrap -mx-4">
                <div class="w-full px-4 md:w-1/2 ">
                    <div class="sticky top-0 z-50 overflow-hidden ">
                        <div class="div-image relative  mb-6  lg:mb-10 lg:h-2/4 ">
                            <img src="/images/product/<%= product.images[0] %>" alt=""
                                class="object-cover w-full lg:h-full rounded-lg" id="main-img">
                        </div>
                        <div class="flex-wrap hidden md:flex ">
                          <%  product.images.forEach((image) => { %>
                            <div class="w-1/2 p-2 sm:w-1/4">
                              <a href="#"
                                  class="small-img block border border-blue-300 dark:border-transparent dark:hover:border-blue-300 hover:border-blue-300">
                                  <img src="/images/product/<%= image %>" alt=""
                                      class="object-cover w-full lg:h-20">
                              </a>
                            </div>
                          <%  }) %>

                            
                        </div>
                    </div>
                </div>
                <div class="w-full px-4 md:w-1/2 ">
                    <div class="lg:pl-20">
                        <div class="mb-8 ">
                            <span class="text-lg font-medium text-rose-500 ">New</span>
                            <h2 class="max-w-xl mt-2 mb-6 text-2xl font-bold  md:text-4xl">
                                <%= product.productname  %></h2>
                            <!-- <div class="flex items-center mb-6">
                                <ul class="flex mr-2">
                                    <li>
                                        <a href="#">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                                fill="currentColor"
                                                class="w-4 mr-1 text-red-500 dark:text-gray-400 bi bi-star "
                                                viewBox="0 0 16 16">
                                                <path
                                                    d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z" />
                                            </svg>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="#">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                                fill="currentColor"
                                                class="w-4 mr-1 text-red-500 dark:text-gray-400 bi bi-star "
                                                viewBox="0 0 16 16">
                                                <path
                                                    d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z" />
                                            </svg>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="#">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                                fill="currentColor"
                                                class="w-4 mr-1 text-red-500 dark:text-gray-400 bi bi-star "
                                                viewBox="0 0 16 16">
                                                <path
                                                    d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z" />
                                            </svg>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="#">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                                fill="currentColor"
                                                class="w-4 mr-1 text-red-500 dark:text-gray-400 bi bi-star "
                                                viewBox="0 0 16 16">
                                                <path
                                                    d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z" />
                                            </svg>
                                        </a>
                                    </li>
                                </ul>
                                <p class="text-xs dark:text-gray-400 ">(2 customer reviews)</p>
                            </div> -->
                            <p class="max-w-md mb-8 text-slate-900 ">
                                Lorem ispum dor amet Lorem ispum dor amet Lorem ispum dor amet Lorem ispum dor amet
                                Lorem ispum dor amet Lorem ispum dor amet Lorem ispum dor amet Lorem ispum dor amet
                            </p>
                            <p class="inline-block mb-8 text-4xl font-bold text-slate-900  ">
                                <span> &#8377; <%=product.price%> </span>
                                <span
                                    class="text-base font-normal text-stone-900 line-through "> &#8377; <%=product.originalprice%> </span>
                            </p>
                        </div>
                
                        
                        <div class="flex flex-wrap items-center -mx-4 ">
                            
                                    <div class="w-full px-1 mb-4 lg:w-1/3 lg:mb-0">
                                    <%  if(product.stock < 1 ){ %>
                                           <!-- <form action="/home/add-to-cart/<%=product._id%>" method="post"> -->
                                            <button type="button"
                                                class="flex items-center justify-center w-full p-4  text-blue-600 font-bold border border-blue-500 rounded-md bg-slate-950">
                                                     Out of stock                                 
                                            </button>
                                        <!-- </form> -->
                                    <% }else if( cart == true && typeof(cart) !== 'undefined'){ %>
                                        
                                      <a href="/home/bag">
                                        <button 
                                        class="flex items-center justify-center w-full p-4  text-blue-600 font-bold border border-blue-500 rounded-md bg-slate-950">
                                            Go to cart                                 
                                        </button>
                                    </a>
                                       

                                    <% }else{ %>
                                      <form action="/home/add-to-cart/<%=product._id%>" method="post">
                                        <button type="submit"
                                            class="flex items-center justify-center w-full p-4  text-blue-600 font-bold border border-blue-500 rounded-md bg-slate-950">
                                                 Add to Cart                                 
                                        </button>
                                      </form>
                                    <% } %>
                                    </div>
                                    <div class="w-full px-1 mb-4 lg:mb-0 lg:w-1/3">
                                        <form class="pay-now" action="/home/buy-now/<%=product._id%>" method="post">
                                            <button type="submit"
                                                class="flex items-center justify-center w-full p-4 text-white font-bold border-2 borde-slate-900 rounded-md bg-blue-600">
                                                Buy now
                                            </button>
                                        </form>
                                    </div>
                                    <div class="w-full px-1 mb-4 lg:mb-0 lg:w-1/3">
                                        <form action="/home/">
                                            <button
                                                class="flex items-center justify-center text-sm w-full p-4 text-blue-600 font-bold border border-blue-500 rounded-md bg-slate-950">
                                                Add to wishlist
                                            </button>
                                        </form>
                                    </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
      <!-- content -->
    
      <!-- Footer -->
    
      <!-- Footer -->
      
      
      <script src="https://checkout.razorpay.com/v1/razorpay.js"></script>

<script> 

// for image selection
    document.addEventListener("DOMContentLoaded", function (e) {
        let mainImg = document.getElementById('main-img');
        let smallImg = document.getElementsByClassName('small-img');
        
        for (const images of smallImg) {
              images.addEventListener("click",(e) => {
                e.preventDefault()
                let src = e.target.currentSrc.split('/');
                src.splice(0,3)
                let newSrc = "/" + src.join('/') 
                mainImg.src = newSrc
              })
            };
        });

// for zooming the image
        document.querySelectorAll('.div-image').forEach(elem => {
          let x,y,width,height;
          elem.onmouseenter = () => {
            const size = elem.getBoundingClientRect();
            x = size.x;
            y = size.y;
            width = size.width;
            height = size.height;
          }

          elem.onmousemove = e => {
            const horizontal = (e.clientX - x) / width*100;
            const vertical = (e.clientY - y) / width*100
            elem.style.setProperty('--x',horizontal + '%');
            elem.style.setProperty('--y',vertical + '%')
          }

        })

      
</script>
<script src="/js/navbar.js"></script>

</body>
</html>